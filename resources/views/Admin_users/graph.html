<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphique avec Chart.js</title>
    <!-- Inclure Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Ajouter un canvas pour le graphique -->
    
    <canvas id="resultatsVotesChart"></canvas>
   
        // Obtenir le contexte du canvas
        var ctx = document.getElementById('monGraphique').getContext('2d');

        // Données du graphique
        var data = {
            labels: ['Janvier', 'Février', 'Mars', 'A xvril', 'Mai'],
            datasets: [{
                label: 'Ventes mensuelles',
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1,
                data: [50, 75, 120, 100, 150]
            }]
        };

        // Options du graphique
        var options = {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        };

        // Créer le graphique
        var monGraphique = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
        });
    </script> -->
</body>
<script defer>
	console.log("ok");
	  document.addEventListener('DOMContentLoaded', function () {
		  // Récupérer les données des votes
		
		  fetch('/graph')
			  .then(response => response.json())
			  .then(data => {
				  const candidats = data.chartData.map(item => item.name);
				  const votes = data.chartData.map(item => item.likes_count);
				 
				  
				  // Configurer le diagramme avec Chart.js
				  var ctx = document.getElementById('resultatsVotesChart').getContext('2d');
				  var resultatsVotesChart = new Chart(ctx, {
					  type: 'bar',
					  data: {
						  labels: candidats,
						  datasets: [{
							  label: 'likes',
							  data: votes,
							  backgroundColor: 'rgba(75, 192, 192, 0.2)',
							  borderColor: 'rgba(75, 192, 192, 1)',
							  borderWidth: 1
						  }]
					  },
					  options: {
						  scales: {
							  y: {
								  beginAtZero: true
							  }
						  },
						  maintainAspectRatio: false, 
						  responsive: true,
				
					  }
				  });
			  })
			  .catch(error => console.error('Erreur lors de la récupération des données :', error));
	  }

	
	  );
	</script>

</html>










































{{-- @extends('base')
@section('content')

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Résultats des Votes - SEN-PARRAINAGE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/assets/lib/js/datatable.js"></script>
   
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-success">
        <!-- ... Votre barre de navigation ... -->
    </nav>

    <div class="container">
        <h1>Résultats des Votes</h1>
        <div>
            <canvas id="resultatsVotesChart" ></canvas>
        </div>
    </div>
     
</body>

</html>


            
 
 
<script>

// document.addEventListener('DOMContentLoaded', function () {
    
//     fetch('/graph')
//         .then(response => response.json())
//         .then(data => {
//             const candidats = data.likeData.map(item => item.nom + ' ' + item.prenom);
//             const likes = data.likeData.map(item => item.likes);

//             // Configurer le diagramme avec Chart.js
//             var ctx = document.getElementById('myChart').getContext('2d');
//             var myChart = new Chart(ctx, {
//                 type: 'bar',
//                 data: {
//                     labels: candidats,
//                     datasets: [{
//                         label: 'like',
//                         data: likes,
//                         backgroundColor: 'rgba(75, 192, 192, 0.2)',
//                         borderColor: 'rgba(75, 192, 192, 1)',
//                         borderWidth: 1
//                     }]
//                 },
//                 options: {
//                     scales: {
//                         y: {
//                             beginAtZero: true
//                         }
//                     },
//                     maintainAspectRatio: false,
//                     responsive: true,
//                     width: 400,
//                     height: 400
//                 }
//             });
//         })
//         .catch(error => console.error('Erreur lors de la récupération des données :', error));
// });

    // var ctx = document.getElementById('myChart').getContext('2d');
    // var chartData = {!! json_encode($chartData) !!};

    //  var labels = chartData.map(function(item) {
    //    return item.prenom;
    //  });

    //  var data = chartData.map(function(item) {
    //    return item.likes_count;
    //  });


    // var myChart = new Chart(ctx, {
    //   type: 'bar',
    //   data: {
    //     labels: labels,
    //     datasets: [{
    //       label: 'Likes Count',
    //       data: data,
    //       backgroundColor: 'rgba(75, 192, 192, 0.2)',
    //       borderColor: 'rgba(75, 192, 192, 1)',
    //       borderWidth: 1
    //     }]
    //   },
    //   options: {
    //     scales: {
    //       y: {
    //         beginAtZero: true
    //       }
    //     }
    //   }
    // });
  </script>
@endsection --}}